name: scrumbugz
framework: python
runtime: python27
env:
  DJANGO_SETTINGS_MODULE: settings
  PROD_MODE: true
  PIP_REQUIREMENTS_FILE: requirements-stackato.txt
requirements:
  ubuntu:
    - libmemcached-dev
  pypm:
    - psycopg2
    - redis
    - hiredis
min_version:
  client: 1.4.3
services:
  ${name}-db: postgresql
  ${name}-cache: memcached
  ${name}-redis: redis
processes:
    web: $STACKATO_UWSGI --static-map /static=$HOME/static_root
hooks:
  post-staging:
    - python manage.py syncdb --noinput
    - python manage.py migrate
    - python manage.py collectstatic
ignores:
  - "*.pyc"
  - "*.pyo"
  - "*.swp"
  - "*.un~"
  - "*.db"
  - "*.dump"
  - "settings/local.py"
  - ".codeintel"
  - "*.sublime*"
  - ".coverage"
  - "_coverage/*"
  - ".noseids"
  - "celerybeat-schedule"
